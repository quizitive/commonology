{% load leadeboard_tags %}

<div class="answers-comments-container w3-card-0 w3-round cg-border-grey w3-border"
     style="margin:16px 0;">

<div class="answer_slides w3-container w3-padding-top" style="position: relative;">

  <p class="question-text" style="font-size:1rem"><b>{{ q.text }}</b></p>
  {% if not q.hide_default_results %}

    <!-- image for mobile -->
    {% if q.image %}
    <div class="result-card result-img w3-row">
      <div class="w3-col spacer m1">&nbsp</div>
      <div class="w3-col w3-padding-large m10">
        <img class="w3-image" src="{{ q.image.url }}" style="display:block;margin:auto;">
      </div>
      <div class="spacer w3-colm1">&nbsp</div>
    </div>
    {% endif %}

    <div class="result-card results w3-row w3-padding-top">

      <div class="spacer w3-col m1">&nbsp</div>
      <div class="w3-col w3-padding-small m10">
        <div class="response-header response-item w3-card-0 w3-round w3-padding">
          <b>Answer</b><b style="color:#f26649;float: right;">Points</b></div>
        {% question_responses as question_responses %}
        {% for res, val in question_responses.items %}
          {% formatted_answer_cell forloop.counter %}
          {% with total=forloop.counter %}
            {% if forloop.last and total > 10 %}
              {{ count }}
              <div class="w3-cell-row">
                  <a id="more-button question-{{ q.id }}" class="more-button w3-cell w3-center">see {{ total|add:"-10" }} more</a>
              </div>
            {% endif %}
          {% endwith %}
        {% endfor %}
      </div>
       <div class="spacer w3-col m1">&nbsp</div>
    </div>

  {% endif %}

</div>

<!-- Comments -->
<div class="question-comment-container">
  {% include 'leaderboard/components/comments_with_form.html' with q=q thread=q.thread %}
</div>


</div>
