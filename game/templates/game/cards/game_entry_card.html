{% extends 'cards/base_card.html' %}

{% load navbar_extras %}

{% block card_top %}

  <style>
  .helptext {
      font-style: italic;
      font-size: 12px;
      color: #3a3a3a;
  }
  ::placeholder {
      color: #9e9e9e;
  }
  </style>

  <div class="top-block w3-row cg-blue w3-padding-16" style="margin: -16px -24px">

    <div class="w3-row w3-center w3-padding-16">
      <div style="background: white;border-radius: 25px; width: 50px;height: 50px; position: relative; margin: auto;">
        <img src="{% v_static "img/icon.svg" %}" alt="Commonology Logo" style="height:40px; position: absolute; left: 6px;top:5px;">
      </div>
    </div>

    <div class="w3-row w3-center" style="font-weight:bold;font-size:18px;">
      Welcome to <br/>{{ game_name }}
    </div>

  </div>

  <svg width="500" height="30" viewBox="0 0 500 80" preserveAspectRatio="none" style="margin:0 -24px 24px">
    <path d="M0,0 L0,40 Q250,120 500,40 L500,0 Z" fill="#0095da" />
  </svg>

{% endblock %}

{% block form %}
  <div id="test"></div>

   Please verify your email address:

  <form id="card_form" hx-post="/play/" hx-target="#game-entry-card" hx-swap="outerHTML">
      {% if form %}
      {% csrf_token %}
      {{ form.as_p }}
      {% endif %}

  {% if button_label %}
      {% if recaptcha_key %}
        <button class="g-recaptcha w3-button w3-round w3-block cg-blue w3-margin-bottom"
                  data-sitekey={{recaptcha_key}}
                  data-callback='onSubmit' data-action='submit'>{{ button_label|default:"Ok" }}</button>
      {% else %}
        <input type="submit" form="card_form" value="{{ button_label|default:"Ok" }}" class="w3-button w3-round w3-block cg-blue w3-margin-bottom">
      {% endif %}
  {% endif %}
  </form>



{% endblock %}

{% block card_extras %}

    <button class="login-google w3-button w3-input w3-margin-bottom w3-border-0" style="padding:0;margin-bottom: 24px">
    <a href="{% url "social:begin" "google-oauth2" %}{% login_next_url request %}" class="w3-center w3-block w3-round w3-border" style="text-decoration: none;">
    <img src="{% v_static 'img/google_icon_margins.svg' %}" class="login-google">
    <span class="login-google">Continue with Google</span>
    </a>
  </button>

  <div class="w3-row w3-padding-16 w3-center" style="color: #9e9e9e;font-size:13px">
    We do this to protect the game from robots and ballot stuffers.
  </div>

{% endblock %}
